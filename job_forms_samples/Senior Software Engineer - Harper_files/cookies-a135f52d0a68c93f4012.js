"use strict";(self.webpackChunkteamtailor=self.webpackChunkteamtailor||[]).push([[9772],{"./app/javascript/packs/cookies.js":(e,t,o)=>{var a=o("./app/javascript/utils/script-tags.js");navigator.cookieEnabled&&((0,a.U)(),document.addEventListener("turbo:load",()=>{(0,a.U)()}))},"./app/javascript/utils/cookies.js":(e,t,o)=>{o.d(t,{MR:()=>m,RZ:()=>k,ch:()=>v,ni:()=>p,oE:()=>f,pu:()=>r,vJ:()=>l});var a=o("./node_modules/js-cookie/dist/js.cookie.mjs"),i=o("./node_modules/lodash-es/difference.js"),n=o("./app/javascript/utils/gtm.js"),s=o("./app/javascript/utils/script-tags.js");const r=["analytics","marketing","preferences"],c="_ttCookiePermissions",d=["_tt_session"],u=["_ttAnalytics","referrer","ti"];function p(e){m(r,e)}function l(e){m([],e)}function f(){return a.A.get(c)?.split(",")||[]}function v(e){return f().find(t=>t===e)}function k(){return void 0!==a.A.get(c)}function m(e,t){const o=(0,i.A)(f(),e).length>0;if((0,n.T)(e),o){Object.keys(a.A.get()).filter(e=>![...d,c].includes(e)).forEach(e=>{u.includes(e)?a.A.remove(e):a.A.remove(e,{domain:window.location.hostname})})}fetch("/cookie-policy/accept",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({cookie_policy:{visitor_uuid:window.visitor_uuid,referrer:window.referrer,categories:e.join(","),same_site:t?"None":void 0}})}).then(()=>{(0,s.U)(),o?window.location.reload():document.dispatchEvent(new Event("teamtailor:cookies-changed"))})}},"./app/javascript/utils/gtm.js":(e,t,o)=>{o.d(t,{T:()=>s});const a={analytics:"analytics_storage",marketing:"ad_storage",preferences:"personalization_storage"},i=["ad_personalization","ad_user_data"],n={analytics_storage:"denied",ad_storage:"denied",personalization_storage:"denied",ad_personalization:"denied",ad_user_data:"denied"};function s(e,t="update"){let o={...n};e.forEach(e=>{o[a[e]]="granted"}),i.forEach(e=>{o[e]=o.ad_storage}),function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}("consent",t,o),window.dataLayer.push({event:"cookie_consent_updated"})}},"./app/javascript/utils/script-tags.js":(e,t,o)=>{o.d(t,{U:()=>n});var a=o("./node_modules/lodash-es/difference.js"),i=o("./app/javascript/utils/cookies.js");function n(){const e="true"===document.body.dataset.blockScripts?(0,i.oE)():i.pu;e.forEach(function(e){!function(e){(function(e){let t="script[data-cookie-type='"+e+"'][type='text/plain']";document.querySelectorAll(t).forEach(e=>{let t=e.cloneNode(!0);t.setAttribute("type","text/javascript"),e.parentNode.insertBefore(t,e),e.remove()})})(e),function(e){let t="iframe[data-cookie-type='"+e+"']";document.querySelectorAll(t).forEach(e=>{let t=e.getAttribute("data-src");t&&e.setAttribute("src",t)})}(e);let t=new CustomEvent("cookies-enabled");document.dispatchEvent(t)}(e),c(s(e),!0),c(r(e),!1)});(0,a.A)(i.pu,e).forEach(function(e){c(s(e),!1),c(r(e),!0)})}function s(e){return'[data-cookie-block="'+e+'"]'}function r(e){return'[data-cookies-required="'+e+'"]'}function c(e,t){document.querySelectorAll(e).forEach(function(e){e.style.display=t?"":"none"})}}},e=>{e.O(0,[5217],()=>{return t="./app/javascript/packs/cookies.js",e(e.s=t);var t});e.O()}]);
//# sourceMappingURL=cookies-a135f52d0a68c93f4012.js.map